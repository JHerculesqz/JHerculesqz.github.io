<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>【编译引擎】-2-学习阅读Class文件结构(16进制版)-下 - 妙木山</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=author content="猴王无敌"><meta name=description content="在《【编译引擎】学习阅读Class文件结构(16进制版)-上》、《【编译引擎】学习阅读Class文件结构(16进制版)-中》两篇文章中，笔者"><meta name=keywords content="Hugo,theme,jane"><meta name=generator content="Hugo 0.74.2"><link rel=canonical href=https://jherculesqz.github.io/post/java%E6%8B%BE%E9%81%97/%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBclass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%8416%E8%BF%9B%E5%88%B6%E7%89%88-%E4%B8%8B/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/sass/jane.min.b3a8813c06e6d785beba22bf8264e174fa2cb3a396b22f9ba24e2c00c18aaf7f.css integrity="sha256-s6iBPAbm14W+uiK/gmThdPoss6OWsi+bok4sAMGKr38=" media=screen crossorigin=anonymous><meta property="og:title" content="【编译引擎】-2-学习阅读Class文件结构(16进制版)-下"><meta property="og:description" content="在《【编译引擎】学习阅读Class文件结构(16进制版)-上》、《【编译引擎】学习阅读Class文件结构(16进制版)-中》两篇文章中，笔者"><meta property="og:type" content="article"><meta property="og:url" content="https://jherculesqz.github.io/post/java%E6%8B%BE%E9%81%97/%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBclass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%8416%E8%BF%9B%E5%88%B6%E7%89%88-%E4%B8%8B/"><meta property="article:published_time" content="2021-08-05T14:55:02+08:00"><meta property="article:modified_time" content="2021-08-05T14:55:02+08:00"><meta itemprop=name content="【编译引擎】-2-学习阅读Class文件结构(16进制版)-下"><meta itemprop=description content="在《【编译引擎】学习阅读Class文件结构(16进制版)-上》、《【编译引擎】学习阅读Class文件结构(16进制版)-中》两篇文章中，笔者"><meta itemprop=datePublished content="2021-08-05T14:55:02+08:00"><meta itemprop=dateModified content="2021-08-05T14:55:02+08:00"><meta itemprop=wordCount content="4706"><meta itemprop=keywords content="Java拾遗-JVM,"><meta name=twitter:card content="summary"><meta name=twitter:title content="【编译引擎】-2-学习阅读Class文件结构(16进制版)-下"><meta name=twitter:description content="在《【编译引擎】学习阅读Class文件结构(16进制版)-上》、《【编译引擎】学习阅读Class文件结构(16进制版)-中》两篇文章中，笔者"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>妙木山</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/>首页</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/categories/>技术专栏</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/tags/>Tags</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/post/>全部文章</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/about/>关于</a></li></ul></nav><link rel=stylesheet href=/lib/photoswipe/photoswipe.min.css><link rel=stylesheet href=/lib/photoswipe/default-skin/default-skin.min.css><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header id=header class="header container"><div class=logo-wrapper><a href=/ class=logo>妙木山</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/>首页</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/categories/>技术专栏</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/post/>全部文章</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/about/>关于</a></li></ul></nav></header><div id=mobile-panel><main id=main class="main bg-llight"><div class=content-wrapper><div id=content class="content container"><article class="post bg-white"><header class=post-header><h1 class=post-title>【编译引擎】-2-学习阅读Class文件结构(16进制版)-下</h1><div class=post-meta><time datetime=2021-08-05 class=post-time>2021-08-05</time><div class=post-category><a href=https://jherculesqz.github.io/categories/java%E6%8B%BE%E9%81%97/>Java拾遗</a></div><span class=more-meta>约 4706 字</span>
<span class=more-meta>预计阅读 10 分钟</span>
<span id=busuanzi_container_page_pv>| 阅读 <span id=busuanzi_value_page_pv></span></span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#1复杂信息的树状表达属性树>1.复杂信息的树状表达：属性树</a><ul><li><a href=#11源代码转化为指令序列>1.1.源代码转化为指令序列</a></li><li><a href=#12维护局部变量列表>1.2.维护局部变量列表</a></li><li><a href=#13源代码与jvm指令序列的映射关系>1.3.源代码与JVM指令序列的映射关系</a></li><li><a href=#14属性树>1.4.属性树</a></li><li><a href=#15属性>1.5.属性</a></li></ul></li><li><a href=#2code属性>2.Code属性</a><ul><li><a href=#21code属性名>2.1.Code属性名</a></li><li><a href=#22code属性字节码长度>2.2.Code属性字节码长度</a></li><li><a href=#23code属性操作数栈最大长度>2.3.Code属性.操作数栈最大长度</a></li><li><a href=#24code属性局部变量表长度>2.4.Code属性.局部变量表长度</a></li><li><a href=#25code属性指令序列长度>2.5.Code属性.指令序列长度</a></li><li><a href=#26code属性指令序列>2.6.Code属性.指令序列</a></li></ul></li><li><a href=#3linenumbertable属性>3.LineNumberTable属性</a><ul><li><a href=#31linenumbertable属性名>3.1.LineNumberTable属性名</a></li><li><a href=#32linenumbertable属性字节码长度>3.2.LineNumberTable属性字节码长度</a></li><li><a href=#33linenumbertable属性的行数据>3.3.LineNumberTable属性的行数据</a></li></ul></li><li><a href=#4localvariabletable属性>4.LocalVariableTable属性</a><ul><li><a href=#41localvariabletable属性名>4.1.LocalVariableTable属性名</a></li><li><a href=#42localvariabletable属性字节码长度>4.2.LocalVariableTable属性字节码长度</a></li><li><a href=#43localvariabletable属性的行数据>4.3.LocalVariableTable属性的行数据</a></li></ul></li><li><a href=#5总结jvm如何描述一个方法的内部实现>5.总结：JVM如何描述一个方法的内部实现?</a><ul><li><a href=#51三大重要信息的转换与存储>5.1.三大重要信息的转换与存储</a></li><li><a href=#52随着jvm指令序列执行动态刷新内存栈帧>5.2.随着JVM指令序列执行，动态刷新内存(栈帧)</a></li></ul></li><li><a href=#6再看阅读字节码>6.再看阅读字节码</a><ul><li><a href=#61能够从更深的深度理解java的语言语法特性>6.1.能够从更深的深度，理解Java的语言语法特性</a></li><li><a href=#62能够提供性能优化的高维打击手段>6.2.能够提供性能优化的高维打击手段</a></li></ul></li></ul></nav></div></div><div class=post-content><p>在《【编译引擎】学习阅读Class文件结构(16进制版)-上》、《【编译引擎】学习阅读Class文件结构(16进制版)-中》两篇文章中，笔者讲解了如何以16进制的方式，解读Demo2.java对应字节码的常量池、字段表、方法表。</p><p>我们继续解读Demo2.class字节码的方法表的Code属性片段。</p><h1 id=1复杂信息的树状表达属性树>1.复杂信息的树状表达：属性树</h1><p>如果说前面两篇文章描述的信息相对简单，那么当我们需要用一种形式表达一个函数的实现就显得更加复杂了。</p><p>我们逆向思考一下，假设我们就是JVM，JVM需要完成哪些<strong>重要的任务</strong>：</p><h2 id=11源代码转化为指令序列>1.1.源代码转化为指令序列</h2><p>在编译阶段，JVM能够获得的信息形式是——<strong>函数实现的源代码X</strong></p><p>而在运行阶段，JVM需要输出给CPU的信息形式是——<strong>CPU能够理解并执行的CPU指令序列Z</strong></p><p>因此，JVM需要将<strong>源代码X</strong>转换为<strong>指令序列Z</strong></p><blockquote><p>Z = G(X)</p></blockquote><p>为了实现<strong>转换函数G</strong>，首先，在编译阶段，JVM将<strong>源代码X</strong>转换为<strong>JVM指令序列Y</strong>，即</p><blockquote><p>Y = F1(X)</p></blockquote><p>然后，在运行阶段，JVM动态地将<strong>JVM指令序列Y</strong>转换为<strong>CPU指令序列Z</strong>，即</p><blockquote><p>Z = F2(Y)</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/1.png alt=image-20201213164014831></p><p>至此，我们可以得到一个结论：<strong>JVM指令序列是表示函数实现源代码的重要信息之一</strong>。</p><h2 id=12维护局部变量列表>1.2.维护局部变量列表</h2><p>我们至少知道3个经验：</p><blockquote><p>如果函数内一条语句使用了前面已经定义过的局部变量，则该语句能获得此局部变量最新的值。</p><p>如果函数内一条语句使用了一个局部变量，但局部变量没有定义，IDE就会出现语法错误。</p><p>即使是一个空的函数实现，这个函数里面，IDE至少能联想出一个变量this。</p></blockquote><p>通过这3个经验，我们知道JVM至少具备如下能力：</p><blockquote><p>函数内定义了哪些局部变量，这些局部变量最新的值是多少。</p><p>这些局部变量的作用范围从哪里开始，到哪里结束。</p></blockquote><p>JVM通过实现<strong>局部变量表</strong>存储上述信息：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/2.png alt=image-20201213165522458></p><p>因此，我们可以得到另一个结论：<strong>局部变量表也是表示函数实现源代码的必要信息</strong>。</p><h2 id=13源代码与jvm指令序列的映射关系>1.3.源代码与JVM指令序列的映射关系</h2><p>从1.1可知，调试程序本质是调试运行时指令序列，我们必然需要知道调试的指令序列对应于源代码中的位置。</p><p>JVM通过行号表存储了映射关系：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/3.png alt=image-20201213210037072></p><p>同样的，我们得到另一个结论：<strong>行号表也是表示函数实现源代码的必要信息</strong>。</p><h2 id=14属性树>1.4.属性树</h2><p>综合前述的分析，JVM需要定义一个<strong>表达属性的树表结构</strong>才能表示一个函数的内部实现，如下图所示：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/4.png alt=image-20201213225139342></p><p><strong>Code属性自身具有一些基础信息</strong>(例如：操作数栈最大深度)，Code属性还包含<strong>子属性</strong>(例如：行号表子属性、局部变量表子属性)。</p><p>这样，就形成了一个属性树。</p><h2 id=15属性>1.5.属性</h2><blockquote><p>JVM：<em>Attributes</em> are used in the <code>ClassFile</code>, <code>field_info</code>, <code>method_info</code>, and <code>Code_attribute</code> structures of the <code>class</code> file format</p></blockquote><p>JVM将Code抽象的称为<strong>属性</strong>，将<strong>行号表</strong>也抽象为<strong>属性</strong>，将<strong>局部变量表</strong>也抽象地称为<strong>属性</strong>。在JVM中，还有其它更多的<strong>属性</strong>。</p><p>但无论哪种属性，JVM都采用了如下数据结构表示<strong>属性的共性</strong>：</p><p>2个字节是属性名在常量池中的索引。</p><p>4个字节表示这个属性的字节码长度N。</p><p>紧接着N个字节表示这个属性具体的字节码。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/5.png alt=image-20201213230831717></p><p>深一步思考，又有一个问题：不同的属性应该有不同的数据结构，<strong>JVM怎么区分表达属性的特有信息</strong>呢？</p><p>JVM就是根据属性名来区分的不同类型的属性，<strong>每种属性又有自己独有的数据结构</strong>，如下图所示：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/6.png alt=image-20201213232241686></p><p>好，有了这些前置知识，我们接下来详细解读Code、LineNumberTable、LocalVariableTable属性。</p><h1 id=2code属性>2.Code属性</h1><h2 id=21code属性名>2.1.Code属性名</h2><p>hello方法下挂的属性名索引=<strong>00 0C</strong>，如下图：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/7.png alt=image-20201213230043475></p><p><strong>00 0C=12</strong>，对应<strong>第12个常量</strong>，即<strong>Code属性</strong></p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/8.png alt=image-20201214002838199></p><h2 id=22code属性字节码长度>2.2.Code属性字节码长度</h2><p>hello方法下挂的Code属性长度=<strong>00 00 00 47</strong>，如下图：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/9.png alt=image-20201214002946890></p><p>说明Code属性占据的字节码长度为<strong>00 00 00 47=71</strong>，如下图红框：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/10.png alt=image-20201214003317799></p><h2 id=23code属性操作数栈最大长度>2.3.Code属性.操作数栈最大长度</h2><blockquote><p>JVM规范：The <code>Code</code> attribute is a variable-length attribute in the <code>attributes</code> table of a <code>method_info</code> structure . A <code>Code</code> attribute contains the Java Virtual Machine instructions and auxiliary information for a method, including an instance initialization method or a class or interface initialization method</p></blockquote><p>进一步，查阅JVM规范，Code属性的数据结构如下：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/11.png alt=image-20201214090813324></p><p>从max_stack开始，2个字节表示操作数栈最大深度。</p><p><strong>00 02 = 2</strong>，表示针对Demo2代码，<strong>操作数栈的最大深度为2</strong>。</p><p>另外，这里涉及到对虚拟机栈的理解，笔者将会在后续文章中展开。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/12.png alt=image-20201214071931530></p><h2 id=24code属性局部变量表长度>2.4.Code属性.局部变量表长度</h2><blockquote><p>JVM规范：The value of the <code>max_locals</code> item gives the number of local variables in the local variable array allocated upon invocation of this method</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/13.png alt=image-20201214072317654></p><p>00 02 = 2，<strong>局部变量表最大长度为2</strong></p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/14.png alt=image-20201214072400159></p><h2 id=25code属性指令序列长度>2.5.Code属性.指令序列长度</h2><blockquote><p>JVM规范：The value of the <code>code_length</code> item gives the number of bytes in the <code>code</code> array for this method.</p></blockquote><p>4个字节表示紧接着的有多少个字节存储JVM指令序列。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/15.png alt=image-20201214072528544></p><p><strong>00 00 00 0B=11</strong>，表示Demo2的hello方法转化的JVM指令序列，需要11个字节存储。</p><p>这就很神奇了，一段这样的代码，竟然被转换成了11个字节：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/16.png alt=image-20201214073202146></p><h2 id=26code属性指令序列>2.6.Code属性.指令序列</h2><blockquote><p>JVM规范：The <code>code</code> array gives the actual bytes of Java Virtual Machine code that implement the method.</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/17.png alt=image-20201214073245663></p><p>下图是Demo2的hello方法转换后的JVM指令序列：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/18.png alt=image-20201214073409407></p><p>根据JVM规范，笔者将16进制字节码人工翻译成JVM指令序列：</p><p><strong>04 => iconst_1</strong>，表示将1加载到虚拟机栈中。</p><p><strong>3C => istore_1</strong>，表示将上一步的数据存储到局部变量表的第1位。</p><p><strong>B2 00 03 => getstatic 3</strong>，表示调用第3个常量映射的<strong>java.io.PrintStream</strong>类。</p><p><strong>12 04 => Idc 4</strong>，表示将第4个常量映射的**&ldquo;hello world"字符串**加载到虚拟机栈中。</p><p><strong>B6 00 05=>invokevirtual 5</strong>，表示调用第5个常量映射的<strong>println</strong>方法。</p><p><strong>B1=>return</strong>，表示此函数<strong>执行完成后返回</strong>。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/19.png alt=image-20201214095755437></p><p>我们对比一下Demo2的源代码：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/20.png alt=image-20201214100012611></p><h1 id=3linenumbertable属性>3.LineNumberTable属性</h1><h2 id=31linenumbertable属性名>3.1.LineNumberTable属性名</h2><blockquote><p>JVM规范：The value of the <code>attribute_name_index</code> item must be a valid index into the <code>constant_pool</code> table.</p></blockquote><p>2个字节表示属性名。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/21.png alt=image-20201214101143092></p><p><strong>00 0D=13</strong>，表示第13个常量。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/22.png alt=image-20201214103511715></p><p>根据常量池映射关系，<strong>第13个常量</strong>表示<strong>LineNumberTable</strong>字符串</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/23.png alt=image-20201214103741137></p><h2 id=32linenumbertable属性字节码长度>3.2.LineNumberTable属性字节码长度</h2><blockquote><p>JVM规范：The value of the <code>attribute_length</code> item indicates the length of the attribute, excluding the initial six bytes.</p></blockquote><p>4个字节表示属性占用的字节码长度。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/24.png alt=image-20201214101226009></p><p><strong>00 00 00 0E</strong>=14，表示行号表占据字节码14个字节长度。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/25.png alt=image-20201214103837705></p><p>因此，行号表的字节码如下图红框所示：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/26.png alt=image-20201214104013281></p><h2 id=33linenumbertable属性的行数据>3.3.LineNumberTable属性的行数据</h2><blockquote><p>JVM规范：Each entry in the <code>line_number_table</code> array indicates that the line number in the original source file changes at a given point in the <code>code</code> array. Each <code>line_number_table</code> entry must contain the following two items:</p><ul><li><p>start_pc</p><p>The value of the <code>start_pc</code> item must indicate the index into the <code>code</code> array at which the code for a new line in the original source file begins.The value of <code>start_pc</code> must be less than the value of the <code>code_length</code> item of the <code>Code</code> attribute of which this <code>LineNumberTable</code> is an attribute.</p></li><li><p>line_number</p><p>The value of the <code>line_number</code> item must give the corresponding line number in the original source file.</p></li></ul></blockquote><p>行号表分为两列，一列是<strong>在JVM指令序列的索引(start_pc)</strong>，一列是<strong>源代码的行号(line_number)</strong>。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/27.png alt=image-20201214101431970></p><p>我们将前文解读的JVM指令序列、Demo2的hello方法的源代码，与行号表的字节码对比，可以看到：</p><p>行号表第1行数据：表示JVM指令序列第0行与源代码第7行对应。</p><p>行号表第2行数据：表示JVM指令序列第2行与源代码第8行对应。</p><p>行号表第3行数据：表示JVM指令序列第10行与源代码第9行对应。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/28.png alt=image-20201214102952547></p><h1 id=4localvariabletable属性>4.LocalVariableTable属性</h1><h2 id=41localvariabletable属性名>4.1.LocalVariableTable属性名</h2><blockquote><p>JVM规范：The value of the <code>attribute_name_index</code> item must be a valid index into the <code>constant_pool</code> table.</p></blockquote><p>2个字节表示属性名。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/29.png alt=image-20201214105409665></p><p><strong>00 0E=14</strong>，表示第14个常量。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/30.png alt=image-20201214105753233></p><p>根据常量池映射关系，<strong>第14个常量</strong>表示<strong>LocalVariableTable</strong>字符串。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/31.png alt=image-20201214110018137></p><h2 id=42localvariabletable属性字节码长度>4.2.LocalVariableTable属性字节码长度</h2><blockquote><p>JVM规范：The value of the <code>attribute_length</code> item indicates the length of the attribute, excluding the initial six bytes.</p></blockquote><p>4个字节表示属性占用的字节码长度。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/32.png alt=image-20201214105443811></p><p><strong>00 00 00 16</strong>=22，表示局部变量表占据字节码22个字节长度。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/33.png alt=image-20201214110048114></p><p>因此，行号表的字节码如下图红框所示：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/34.png alt=image-20201214111222724></p><h2 id=43localvariabletable属性的行数据>4.3.LocalVariableTable属性的行数据</h2><blockquote><p>JVM规范：Each entry in the <code>local_variable_table</code> array indicates a range of <code>code</code> array offsets within which a local variable has a value. It also indicates the index into the local variable array of the current frame at which that local variable can be found. Each entry must contain the following five items:</p><ul><li><p>start_pc, length</p><p>The given local variable must have a value at indices into the <code>code</code> array in the interval [<code>start_pc</code>, <code>start_pc + length</code>), that is, between <code>start_pc</code> inclusive and <code>start_pc + length</code> exclusive.The value of <code>start_pc</code> must be a valid index into the <code>code</code> array of this <code>Code</code> attribute and must be the index of the opcode of an instruction.The value of <code>start_pc + length</code> must either be a valid index into the <code>code</code> array of this <code>Code</code> attribute and be the index of the opcode of an instruction, or it must be the first index beyond the end of that <code>code</code> array.</p></li><li><p>name_index</p><p>The value of the <code>name_index</code> item must be a valid index into the <code>constant_pool</code> table. The <code>constant_pool</code> entry at that index must contain a <code>CONSTANT_Utf8_info</code> structure (<a href=https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.4.7>§4.4.7</a>) representing a valid unqualified name denoting a local variable (<a href=https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.2>§4.2.2</a>).</p></li><li><p>descriptor_index</p><p>The value of the <code>descriptor_index</code> item must be a valid index into the <code>constant_pool</code> table. The <code>constant_pool</code> entry at that index must contain a <code>CONSTANT_Utf8_info</code> structure (<a href=https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.4.7>§4.4.7</a>) representing a field descriptor which encodes the type of a local variable in the source program (<a href=https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.3.2>§4.3.2</a>).</p></li><li><p>index</p><p>The given local variable must be at <code>index</code> in the local variable array of the current frame.If the local variable at <code>index</code> is of type <code>double</code> or <code>long</code>, it occupies both <code>index</code> and <code>index + 1</code>.</p></li></ul></blockquote><p>行号表分为X列：</p><p>列1是<strong>局部变量在JVM指令序列的索引(start_pc)</strong></p><p>列2是<strong>局部变量在JVM指令序列偏移量(length)</strong></p><p>列3是<strong>局部变量名在常量池中的索引</strong></p><p>列4是<strong>局部变量类型</strong></p><p>列5是<strong>局部变量槽位</strong>——这里涉及到槽位重用问题，笔者将在讲解虚拟机栈的后续章节展开。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/35.png alt=image-20201214105609730></p><p>我们将前文解读的JVM指令序列、Demo2的hello方法的源代码，与行号表的字节码对比，可以看到：</p><p>局部变量表第1行数据：表示局部变量this，类型为Demo2，作用域hello整个函数。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/36.png alt=image-20201214112254032></p><p>局部变量表第2行数据：表示局部变量i，类型为int，作用域hello函数的**&ldquo;int i =1"语句后**，**“return”语句前**。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/37.png alt=image-20201214112737327></p><h1 id=5总结jvm如何描述一个方法的内部实现>5.总结：JVM如何描述一个方法的内部实现?</h1><p>根据Demo2演练代码，JVM描述了如下信息：</p><h2 id=51三大重要信息的转换与存储>5.1.三大重要信息的转换与存储</h2><ul><li>在<strong>虚拟机栈</strong>中，为hello方法开辟了一个<strong>栈帧</strong></li><li>将源代码转换为<strong>JVM指令序列</strong>，存储在<strong>栈帧的Code属性</strong>中</li><li>将局部变量存储在<strong>栈帧的局部变量表</strong>中</li><li>将源代码和JVM指令序列<strong>位置映射关系</strong>，<strong>存储在栈帧的行号表</strong>中</li></ul><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/38.png alt=image-20201214120538585></p><h2 id=52随着jvm指令序列执行动态刷新内存栈帧>5.2.随着JVM指令序列执行，动态刷新内存(栈帧)</h2><ul><li>当逻辑代码<strong>int i =1</strong>执行时，栈帧中JVM指令序列执行到3C处，局部变量i被赋值为1；</li></ul><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/39.png alt=image-20201214121148759></p><ul><li>当逻辑代码<strong>System.out.println(&ldquo;hello world&rdquo;)<strong>语句执行时，栈帧中JVM指令序列执行到</strong>05</strong>处，打印了常量池中"hello world"字符串；</li></ul><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/40.png alt=image-20201214121349494></p><p>上述过程，引出了JVM运行时数据区中的栈区以及内存结构。读者可以参考笔者这篇文章《【运行时数据区】用仓库管理员的视角理解运行时数据区》</p><h1 id=6再看阅读字节码>6.再看阅读字节码</h1><p>笔者在文章开头写了那个"牛逼程序猿看着一堆16进制致敬女神"的段子，但是头条不让开车就删掉了O(∩_∩)O~</p><p>虽然我们不追求段子中的效果，但阅读字节码，的确是程序猿技术深度的重要体现。</p><p>如果您耐心的将笔者的4篇文章阅读完，</p><ul><li>《【编译引擎】学习阅读Class文件结构的意义》</li><li>《【编译引擎】学习阅读Class文件结构(16进制版)-上》</li><li>《【编译引擎】学习阅读Class文件结构(16进制版)-中》</li><li>《【编译引擎】学习阅读Class文件结构(16进制版)-下》</li></ul><p>我们可以再来看看能够阅读字节码的Java程序猿，将具备哪些"一般码农"缺乏的能力：</p><h2 id=61能够从更深的深度理解java的语言语法特性>6.1.能够从更深的深度，理解Java的语言语法特性</h2><p>当您看到《Effective Java》、《阿里编程规范》等编程规范、高效编程实践的时候，</p><p>不了解Java字节码的码农，是这样的思维：</p><blockquote><p>因为规范禁止我们这样做，所以我在实战中的代码一定不会这样写。</p></blockquote><p>而了解Java字节码的程序猿，是这样的思维：</p><blockquote><p>为什么规范要禁止我们这样做，我要看看JVM指令序列，看看JVM是如何处理的。</p></blockquote><p>例如：规范中禁止<strong>count=count++这种语句</strong>，</p><p>不了解Java字节码的码农，只能死记硬背；</p><p>而了解Java字节码的程序猿，就可以查看JVM指令序列。</p><h2 id=62能够提供性能优化的高维打击手段>6.2.能够提供性能优化的高维打击手段</h2><p>在Spring源码中，有很多细节代码，下图摘自知乎的一个帖子：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84(16%E8%BF%9B%E5%88%B6%E7%89%88)-%E4%B8%8B/41.png alt=image-20201214123137927></p><p>如果不了解字节码，您肯定想不到第2行的代码，居然会对性能优化产生一定的帮助。</p><p>谢谢各位读者！</p></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>猴王无敌</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2021-08-05</span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><div class=post-reward><input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>赞赏支持</label><div class=qr-code><label class=qr-code-image for=reward><img class=image src=/weixin.png>
<span>微信打赏</span></label>
<label class=qr-code-image for=reward><img class=image src=/alipay.png>
<span>支付宝打赏</span></label></div></div><footer class=post-footer><div class=post-tags><a href=https://jherculesqz.github.io/tags/java%E6%8B%BE%E9%81%97-jvm/>Java拾遗-JVM</a></div><nav class=post-nav><a class=prev href=/post/java%E6%8B%BE%E9%81%97/%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E-3-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBclass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84javap%E7%89%88/><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417l277.93508-310.326815c11.338233-12.190647 11.035334-32.285311-.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"/></svg></i><span class="prev-text nav-default">【编译引擎】-3-学习阅读Class文件结构(javap版)</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/post/java%E6%8B%BE%E9%81%97/%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E-2-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBclass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%8416%E8%BF%9B%E5%88%B6%E7%89%88-%E4%B8%AD/><span class="next-text nav-default">【编译引擎】-2-学习阅读Class文件结构(16进制版)-中</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"/></svg></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=icon-links><a href=mailto:JHercules_qz@qq.com rel="me noopener" class=iconfont title=email><svg class="icon" viewBox="0 0 1451 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408 1361.641813S1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523L83.726336 1024H682.532949 753.579947 1348.948139L1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955C777.248 802.205449 742.347691 811.03081 718.063616 811.603883z"/></svg></a><a href=https://github.com/JHerculesqz rel="me noopener" class=iconfont title=github target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg></a><a href=https://jherculesqz.github.io/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a></span>
<span class=copyright-year>&copy;
2021 -
2025
<span class=heart><i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg></i></span><span class=author>猴王无敌</span></span>
<span id=busuanzi_container>访客数/访问量：<span id=busuanzi_value_site_uv></span>/<span id=busuanzi_value_site_pv></span></span></div></footer><div class=back-to-top id=back-to-top><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin=anonymous></script><script type=text/javascript src=/js/load-photoswipe.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></body></html>