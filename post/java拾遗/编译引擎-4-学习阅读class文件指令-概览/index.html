<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>【编译引擎】-4-学习阅读Class文件指令-概览 - 妙木山</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=author content="猴王无敌"><meta name=description content="1.前言 在《【编译引擎】学习阅读Class文件结构(javap版)》中，我们看到了Code属性包含了JVM指令序列。 在理解了Class文件结"><meta name=keywords content="Hugo,theme,jane"><meta name=generator content="Hugo 0.74.2"><link rel=canonical href=https://jherculesqz.github.io/post/java%E6%8B%BE%E9%81%97/%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBclass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/sass/jane.min.b3a8813c06e6d785beba22bf8264e174fa2cb3a396b22f9ba24e2c00c18aaf7f.css integrity="sha256-s6iBPAbm14W+uiK/gmThdPoss6OWsi+bok4sAMGKr38=" media=screen crossorigin=anonymous><meta property="og:title" content="【编译引擎】-4-学习阅读Class文件指令-概览"><meta property="og:description" content="1.前言 在《【编译引擎】学习阅读Class文件结构(javap版)》中，我们看到了Code属性包含了JVM指令序列。 在理解了Class文件结"><meta property="og:type" content="article"><meta property="og:url" content="https://jherculesqz.github.io/post/java%E6%8B%BE%E9%81%97/%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBclass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/"><meta property="article:published_time" content="2021-08-05T15:05:31+08:00"><meta property="article:modified_time" content="2021-08-05T15:05:31+08:00"><meta itemprop=name content="【编译引擎】-4-学习阅读Class文件指令-概览"><meta itemprop=description content="1.前言 在《【编译引擎】学习阅读Class文件结构(javap版)》中，我们看到了Code属性包含了JVM指令序列。 在理解了Class文件结"><meta itemprop=datePublished content="2021-08-05T15:05:31+08:00"><meta itemprop=dateModified content="2021-08-05T15:05:31+08:00"><meta itemprop=wordCount content="2415"><meta itemprop=keywords content="Java拾遗,"><meta name=twitter:card content="summary"><meta name=twitter:title content="【编译引擎】-4-学习阅读Class文件指令-概览"><meta name=twitter:description content="1.前言 在《【编译引擎】学习阅读Class文件结构(javap版)》中，我们看到了Code属性包含了JVM指令序列。 在理解了Class文件结"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>妙木山</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/>首页</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/categories/>技术专栏</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/tags/>Tags</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/post/>全部文章</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/about/>关于</a></li></ul></nav><link rel=stylesheet href=/lib/photoswipe/photoswipe.min.css><link rel=stylesheet href=/lib/photoswipe/default-skin/default-skin.min.css><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header id=header class="header container"><div class=logo-wrapper><a href=/ class=logo>妙木山</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/>首页</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/categories/>技术专栏</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/post/>全部文章</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/about/>关于</a></li></ul></nav></header><div id=mobile-panel><main id=main class="main bg-llight"><div class=content-wrapper><div id=content class="content container"><article class="post bg-white"><header class=post-header><h1 class=post-title>【编译引擎】-4-学习阅读Class文件指令-概览</h1><div class=post-meta><time datetime=2021-08-05 class=post-time>2021-08-05</time><div class=post-category><a href=https://jherculesqz.github.io/categories/java%E6%8B%BE%E9%81%97/>Java拾遗</a></div><span class=more-meta>约 2415 字</span>
<span class=more-meta>预计阅读 5 分钟</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#21本质-信息压缩>2.1.本质-信息压缩</a></li><li><a href=#22jvm指令格式>2.2.JVM指令格式</a></li><li><a href=#23jvm指令分类>2.3.JVM指令分类</a></li><li><a href=#24真理都在规范中>2.4.真理都在规范中</a></li></ul><ul><li><a href=#31对象创建指令>3.1对象创建指令</a></li><li><a href=#32常量入栈指令>3.2.常量入栈指令</a></li><li><a href=#33方法调用指令>3.3.方法调用指令</a></li><li><a href=#34异常处理指令>3.4.异常处理指令</a></li><li><a href=#35main函数的jvm指令执行过程>3.5.main函数的JVM指令执行过程</a></li></ul></nav></div></div><div class=post-content><h1 id=1前言>1.前言</h1><p>在《【编译引擎】学习阅读Class文件结构(javap版)》中，我们看到了Code属性包含了JVM指令序列。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702135411052.png alt=image-20210702135411052></p><p>在理解了Class文件结构之后，学习JVM指令有助于我们更进一步地理解Class文件结构。</p><p>然而，JVM指令是JVM规范另一个大篇幅知识点，我们应该如何高效学习它呢？</p><p>本文将通过上述代码，阐述JVM指令的执行过程(例如：局部变量表中的数据入栈、栈上数据存储回局部变量表等)，为读者展示JVM指令的全貌以及学习方法。</p><h1 id=2jvm指令概览>2.JVM指令概览</h1><h2 id=21本质-信息压缩>2.1.本质-信息压缩</h2><p>在学习具体的JVM之前，我们应该先来看看JVM指令的本质以及它存在的意义。</p><p>不知道您是否考虑过这样一个问题：&ldquo;如何表达一个方法的实现呢？&rdquo;</p><p>您可能会说：可以用代码来描述，如下伪码所示：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=kt>void</span> <span class=nf>func1</span><span class=o>()</span> <span class=o>{</span>
    <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>
    <span class=n>print</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>
<span class=o>}</span>
</code></pre></td></tr></table></div></div><p>那么，我们把问题增加一些限制：&ldquo;如何用最小的信息量表达一个方法的实现？&rdquo;</p><p>聪明的读者可能会想到"代号法&rdquo;，即为上述伪码取个特殊的代号(假设"int i = 1"的代号是"帅哥&rdquo;，&ldquo;print(i)&ldquo;的代号是"美女&rdquo;)，那么上述伪码可以简化为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=kt>void</span> <span class=nf>func1</span><span class=o>()</span> <span class=o>{</span>
    <span class=n>帅哥</span><span class=o>;</span>
    <span class=n>美女</span><span class=o>;</span>
<span class=o>}</span>
</code></pre></td></tr></table></div></div><p>我们继续把问题增加一些限制：&ldquo;如何用计算机能理解的最小信息量表达一个方法的实现？&rdquo;</p><p>什么是计算机能理解的信息？显然是字节。所以，我们可以约定"0A"就是"帅哥&rdquo;，&ldquo;0B"就是"美女&rdquo;，如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=kt>void</span> <span class=nf>func1</span><span class=o>()</span> <span class=o>{</span>
    <span class=n>0A</span><span class=o>;</span>
    <span class=n>0B</span><span class=o>;</span>
<span class=o>}</span>
</code></pre></td></tr></table></div></div><p>同样的信息，在某些场景下(对于人)越大越好，在某些场景下(对于机器)越小越好。</p><p>更关键的是，二者能相互转换——这就好像三体中智子的高维折叠和低维展开。</p><p>这或许就是计算机的世界中，最令人着迷的地方。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702144922740.png alt=image-20210702144922740></p><h2 id=22jvm指令格式>2.2.JVM指令格式</h2><p>JVM指令的格式一般是这样的：</p><blockquote><p>操作码+操作数</p></blockquote><p>操作码为1个字节，在JVM规范中约定了这个字节表达的具体的JVM指令含义。</p><p>这是一个有趣的细节：1个字节是8位，所以JVM指令的操作码最多只有255个</p><p>操作数可以没有，也可能有多个。</p><h2 id=23jvm指令分类>2.3.JVM指令分类</h2><p>JVM规范中的JVM指令非常多，我们可以根据指令的使用场景分类，本文仅列举实战中最常用的场景：</p><ul><li>加载与存储：比如将局部变量表的数据放到虚拟机栈中</li><li>算数指令：比如i++</li><li>类型转换指令：比如int转double</li><li>对象创建/字段访问：比如创建一个类的实例，并且访问该实例的某个属性</li><li>方法调用：比如访问一个类的静态方法</li><li>异常处理：比如抛出一个异常</li><li>……</li></ul><h2 id=24真理都在规范中>2.4.真理都在规范中</h2><p>当我们具备了前面的基本知识，最高效、最准确地学习JVM指令，就要查阅JVM规范了：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702150908956.png alt=image-20210702150908956></p><h1 id=3实例解读>3.实例解读</h1><p>为了方便阅读，我们将javap输出的日志简化后展示如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>java</span><span class=o>.</span><span class=na>lang</span><span class=o>.</span><span class=na>String</span><span class=o>[]);</span>
	<span class=err>……………………</span>
         <span class=n>0</span><span class=o>:</span> <span class=n>getstatic</span>     <span class=err>#</span><span class=n>2</span>                  <span class=c1>// Field java/lang/System.out:Ljava/io/PrintStream;
</span><span class=c1></span>         <span class=n>3</span><span class=o>:</span> <span class=n>ldc</span>           <span class=err>#</span><span class=n>3</span>                  <span class=c1>// String start
</span><span class=c1></span>         <span class=n>5</span><span class=o>:</span> <span class=n>invokevirtual</span> <span class=err>#</span><span class=n>4</span>                  <span class=c1>// Method java/io/PrintStream.println:(Ljava/lang/String;)V
</span><span class=c1></span>         <span class=n>8</span><span class=o>:</span> <span class=n>invokestatic</span>  <span class=err>#</span><span class=n>5</span>                  <span class=c1>// Method test:()V
</span><span class=c1></span>        <span class=n>11</span><span class=o>:</span> <span class=n>getstatic</span>     <span class=err>#</span><span class=n>2</span>                  <span class=c1>// Field java/lang/System.out:Ljava/io/PrintStream;
</span><span class=c1></span>        <span class=n>14</span><span class=o>:</span> <span class=n>ldc</span>           <span class=err>#</span><span class=n>6</span>                  <span class=c1>// String end
</span><span class=c1></span>        <span class=n>16</span><span class=o>:</span> <span class=n>invokevirtual</span> <span class=err>#</span><span class=n>4</span>                  <span class=c1>// Method java/io/PrintStream.println:(Ljava/lang/String;)V
</span><span class=c1></span>        <span class=n>19</span><span class=o>:</span> <span class=k>return</span>
	<span class=err>……………………</span>

  <span class=kd>private</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>test</span><span class=o>();</span>
	<span class=err>……………………</span>
         <span class=n>0</span><span class=o>:</span> <span class=k>new</span>           <span class=err>#</span><span class=n>7</span>                  <span class=c1>// class java/lang/IllegalArgumentException
</span><span class=c1></span>         <span class=n>3</span><span class=o>:</span> <span class=n>dup</span>
         <span class=n>4</span><span class=o>:</span> <span class=n>ldc</span>           <span class=err>#</span><span class=n>8</span>                  <span class=c1>// String exception
</span><span class=c1></span>         <span class=n>6</span><span class=o>:</span> <span class=n>invokespecial</span> <span class=err>#</span><span class=n>9</span>                  <span class=c1>// Method java/lang/IllegalArgumentException.&#34;&lt;init&gt;&#34;:(Ljava/lang/String;)V
</span><span class=c1></span>         <span class=n>9</span><span class=o>:</span> <span class=n>athrow</span>
	<span class=err>……………………</span>
</code></pre></td></tr></table></div></div><h2 id=31对象创建指令>3.1对象创建指令</h2><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702152821188.png alt=image-20210702152821188></p><p>new是操作码，#7是操作数。</p><p>#7表示常量池中的常量，从javap的输出可知，#7表示IllegalArgumentException异常。</p><p>new表示创建了IllegalArgumentException异常对象。</p><p>创建了异常对象后，对象本身放到堆中，对象的内存地址会放到栈中。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702152324438.png alt=image-20210702152324438></p><p>下一步就是dup，dup只有操作码，没有操作数。</p><p>dup就是将栈中前一个元素进行了复制。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702152609221.png alt=image-20210702152609221></p><p>那么为什么要dup呢？</p><p>这就涉及到后面方法调用的指令了，当执行了<code>invokespecial</code>指令，就会将栈中的<code>#0001</code>出栈。</p><p>所以，一般创建了对象后，会紧跟着dup一下。</p><h2 id=32常量入栈指令>3.2.常量入栈指令</h2><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702152857941.png alt=image-20210702152857941></p><p>ldc是操作码，#8是操作数。</p><p>根据javap的输出提示，#8表示的是字符串类型常量"exception&rdquo;。</p><p>ldc负责将这个常量入栈：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702153046669.png alt=image-20210702153046669></p><h2 id=33方法调用指令>3.3.方法调用指令</h2><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702153131436.png alt=image-20210702153131436></p><p>invokespecial是操作码，#9是操作数</p><p>#9表示<code>IllegalArgumentException</code>异常的构造函数</p><p>invokespecial表示了调用特定的函数，在这里调用的是<code>IllegalArgumentException</code>异常的构造函数，并且需要给构造函数输入一个字符串参数"exception&rdquo;。</p><p>此时运行时数据区变成了这样：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702153403860.png alt=image-20210702153403860></p><h2 id=34异常处理指令>3.4.异常处理指令</h2><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702153452470.png alt=image-20210702153452470></p><p>athrow只有操作码，表示抛出<code>IllegalArgumentException</code>异常，并结束了test方法。</p><p>至此，我们通过test()方法，就覆盖了JVM指令主要的4个场景：创建对象->常量入栈->调用方法->抛出异常。</p><h2 id=35main函数的jvm指令执行过程>3.5.main函数的JVM指令执行过程</h2><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E%E3%80%91-4-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBClass%E6%96%87%E4%BB%B6%E6%8C%87%E4%BB%A4-%E6%A6%82%E8%A7%88/image-20210702153713484.png alt=image-20210702153713484></p><p>有了3.1~3.4的基础，我们再看main函数的执行就很容易举一反三了：</p><p><code>getstatic #2</code>属于类/对象的属性获取场景，即将System.out放到栈中</p><p><code>invokevirtual #4</code>类似invokestatic指令，也是调用方法，即调用System.out.println</p><p>此时，控制台打印了"start&rdquo;。</p><p>执行到invokestatic #5，即执行了test()方法，会抛出异常，导致main函数不再往下执行后面的JVM指令。</p><p>因此，最终控制台打印了start后抛出<code>IllegalArgumentException</code>异常</p><h1 id=4总结>4.总结</h1><p>本文接着javap案例，进一步解读了javap的JVM指令部分，具体如下：</p><ul><li>JVM指令的本质是信息压缩</li><li>JVM指令格式一般包含1个操作码+N个操作数</li><li>可以根据场景对JVM指令分类，有助于高效学习JVM指令</li><li>通过一个示例代码，解读了JVM指令的运行过程</li></ul><h1 id=5参考资料>5.参考资料</h1><blockquote><p><a href=https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html>https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html</a></p><p>《深入理解Java虚拟机：JVM高级特性与最佳实践》</p></blockquote></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>猴王无敌</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2021-08-05</span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><div class=post-reward><input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>赞赏支持</label><div class=qr-code><label class=qr-code-image for=reward><img class=image src=/weixin.png>
<span>微信打赏</span></label>
<label class=qr-code-image for=reward><img class=image src=/alipay.png>
<span>支付宝打赏</span></label></div></div><footer class=post-footer><div class=post-tags><a href=https://jherculesqz.github.io/tags/java%E6%8B%BE%E9%81%97/>Java拾遗</a></div><nav class=post-nav><a class=next href=/post/java%E6%8B%BE%E9%81%97/%E7%BC%96%E8%AF%91%E5%BC%95%E6%93%8E-3-%E5%AD%A6%E4%B9%A0%E9%98%85%E8%AF%BBclass%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84javap%E7%89%88/><span class="next-text nav-default">【编译引擎】-3-学习阅读Class文件结构(javap版)</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"/></svg></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=icon-links><a href=mailto:JHercules_qz@qq.com rel="me noopener" class=iconfont title=email><svg class="icon" viewBox="0 0 1451 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408 1361.641813S1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523L83.726336 1024H682.532949 753.579947 1348.948139L1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955C777.248 802.205449 742.347691 811.03081 718.063616 811.603883z"/></svg></a><a href=https://github.com/JHerculesqz rel="me noopener" class=iconfont title=github target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg></a><a href=https://jherculesqz.github.io/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a></span>
<span class=copyright-year>&copy;
2021
<span class=heart><i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg></i></span><span class=author>猴王无敌</span></span></div></footer><div class=back-to-top id=back-to-top><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin=anonymous></script><script type=text/javascript src=/js/load-photoswipe.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script></body></html>