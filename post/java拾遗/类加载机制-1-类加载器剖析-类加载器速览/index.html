<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>【类加载机制】-1-类加载器剖析-类加载器速览 - 妙木山</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=author content="猴王无敌"><meta name=description content="1.一道面试题 这是一道经典的面试题：请描述一下Tomcat如何实现自己独特的类加载机制。 这道题可以引申出很多类加载器的细节问题： 例如：Tom"><meta name=keywords content="Hugo,theme,jane"><meta name=generator content="Hugo 0.74.2"><link rel=canonical href=https://jherculesqz.github.io/post/java%E6%8B%BE%E9%81%97/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/sass/jane.min.b3a8813c06e6d785beba22bf8264e174fa2cb3a396b22f9ba24e2c00c18aaf7f.css integrity="sha256-s6iBPAbm14W+uiK/gmThdPoss6OWsi+bok4sAMGKr38=" media=screen crossorigin=anonymous><meta property="og:title" content="【类加载机制】-1-类加载器剖析-类加载器速览"><meta property="og:description" content="1.一道面试题 这是一道经典的面试题：请描述一下Tomcat如何实现自己独特的类加载机制。 这道题可以引申出很多类加载器的细节问题： 例如：Tom"><meta property="og:type" content="article"><meta property="og:url" content="https://jherculesqz.github.io/post/java%E6%8B%BE%E9%81%97/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/"><meta property="article:published_time" content="2021-08-05T08:08:31+08:00"><meta property="article:modified_time" content="2021-08-05T08:08:31+08:00"><meta itemprop=name content="【类加载机制】-1-类加载器剖析-类加载器速览"><meta itemprop=description content="1.一道面试题 这是一道经典的面试题：请描述一下Tomcat如何实现自己独特的类加载机制。 这道题可以引申出很多类加载器的细节问题： 例如：Tom"><meta itemprop=datePublished content="2021-08-05T08:08:31+08:00"><meta itemprop=dateModified content="2021-08-05T08:08:31+08:00"><meta itemprop=wordCount content="2842"><meta itemprop=keywords content="Java拾遗-JVM,"><meta name=twitter:card content="summary"><meta name=twitter:title content="【类加载机制】-1-类加载器剖析-类加载器速览"><meta name=twitter:description content="1.一道面试题 这是一道经典的面试题：请描述一下Tomcat如何实现自己独特的类加载机制。 这道题可以引申出很多类加载器的细节问题： 例如：Tom"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>妙木山</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/>首页</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/categories/>技术专栏</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/tags/>Tags</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/post/>全部文章</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://jherculesqz.github.io/about/>关于</a></li></ul></nav><link rel=stylesheet href=/lib/photoswipe/photoswipe.min.css><link rel=stylesheet href=/lib/photoswipe/default-skin/default-skin.min.css><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header id=header class="header container"><div class=logo-wrapper><a href=/ class=logo>妙木山</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/>首页</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/categories/>技术专栏</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/post/>全部文章</a></li><li class=menu-item><a class=menu-item-link href=https://jherculesqz.github.io/about/>关于</a></li></ul></nav></header><div id=mobile-panel><main id=main class="main bg-llight"><div class=content-wrapper><div id=content class="content container"><article class="post bg-white"><header class=post-header><h1 class=post-title>【类加载机制】-1-类加载器剖析-类加载器速览</h1><div class=post-meta><time datetime=2021-08-05 class=post-time>2021-08-05</time><div class=post-category><a href=https://jherculesqz.github.io/categories/java%E6%8B%BE%E9%81%97/>Java拾遗</a></div><span class=more-meta>约 2842 字</span>
<span class=more-meta>预计阅读 6 分钟</span>
<span id=busuanzi_container_page_pv>| 阅读 <span id=busuanzi_value_page_pv></span></span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#1一道面试题>1.一道面试题</a></li><li><a href=#2类加载器的实战价值>2.类加载器的实战价值</a></li><li><a href=#3类加载器的分类>3.类加载器的分类</a></li><li><a href=#4相对唯一>4.相对唯一</a></li><li><a href=#5双亲委派>5.双亲委派</a></li><li><a href=#6测试>6.测试</a><ul><li><a href=#61验证三种类加载器的上下级关系>6.1.验证三种类加载器的上下级关系</a></li><li><a href=#62验证bootstrapclassloader已经加载的类>6.2.验证BootstrapClassLoader已经加载的类</a></li><li><a href=#63验证extclassloader已经加载的类>6.3.验证ExtClassLoader已经加载的类</a></li><li><a href=#64尝试破坏javalang包>6.4.尝试破坏java.lang包</a></li></ul></li><li><a href=#7总结>7.总结</a></li><li><a href=#8参考>8.参考</a></li></ul></nav></div></div><div class=post-content><h1 id=1一道面试题>1.一道面试题</h1><p>这是一道经典的面试题：请描述一下Tomcat如何实现自己独特的类加载机制。</p><p>这道题可以引申出很多类加载器的细节问题：</p><blockquote><p>例如：Tomcat为什么要实现一套与JVM不同的类加载机制？</p><p>例如：Tomcat有哪几种类加载器？</p><p>例如：双亲委派模型不满足Tomcat的要求吗？</p><p>例如：自己定义一个恶意系统类(比如Object类)，会对Tomcat造成伤害吗？</p></blockquote><p>这些细节问题，涉及到"类加载器"的一些原理性知识，结合笔者之前的文章《【类加载机制】从一道面试题开始》，我们一起来学习一下类加载器。</p><h1 id=2类加载器的实战价值>2.类加载器的实战价值</h1><p>类加载器是JVM类加载机制的具体实现。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/1.png alt=image-20201224172135407></p><ul><li>类加载器的第一个实战用途就是<strong>定位异常</strong>：当使用一些三方件时，并且部署在某些容器中，运行时环境一旦出现ClassNotFoundException，就需要利用类加载器的知识进行问题定位。</li><li>类加载器的第二个实战用途就是<strong>安全</strong>：java的二进制天然地容易被反编译，为了进行<strong>二进制保护</strong>，通常会自定义类加载器。</li></ul><h1 id=3类加载器的分类>3.类加载器的分类</h1><p>在Java8中，类加载器的逻辑关系如下图所示：</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/2.png alt=image-20201224175405793></p><ul><li><strong>从提供者看</strong></li></ul><p>JVM自带1个类加载器：<strong>BootstrapClassLoader</strong></p><p>JDK自带2个类加载器：<strong>ExtClassLoader</strong>、<strong>AppClassLoader</strong></p><ul><li><strong>从关系看</strong></li></ul><p>BootstrapClassLoader：它会创建ExtClassLoader和AppClassLoader，它是ExtClassLoader的父级加载器。</p><p>ExtClassLoader是AppClassLoader的父级加载器。</p><ul><li><strong>从实现看</strong></li></ul><p><strong>BootstrapClassLoader</strong>：用C++实现</p><p><strong>ExtClassLoader</strong>：用Java实现，继承自ClassLoader</p><p><strong>AppClassLoader</strong>：用Java实现，继承自ClassLoader</p><ul><li><strong>从职责看</strong></li></ul><p><strong>BootstrapClassLoader</strong>：加载(JAVA_HOME/jre/lib/*.jar或sun.boot.class.path下所有内容，用于提供JVM自身需要的类。</p><p><strong>ExtClassLoader</strong>：加载属性java.ext.dirs所指定的目录中的类库，或从JDK的安装目录jre/lib/ext/*.jar。</p><p><strong>AppClassLoader</strong>：加载环境变量classpath中的jar或属性java.class.path指定路径下的类库。</p><ul><li><strong>限制</strong></li></ul><p><strong>BootstrapClassLoader</strong>：为了安全，只加载包名为java、javax、sun开头的类文件</p><p>JVM自带了上述3种类加载器，就不得不面临两个问题：</p><blockquote><p>1.加载流程问题：有一个类A，哪个类加载器负责去加载？</p><p>2.唯一性问题：有一个类A，不同的类加载器能同时加载它吗？</p></blockquote><h1 id=4相对唯一>4.相对唯一</h1><p>类加载机制这样定义类的唯一性，必须满足如下两个条件：</p><ul><li>第一、加载到JVM中的<strong>类模板本身是相同的</strong></li><li>第二、加载这个类的<strong>加载器是同一个</strong></li></ul><p>第一个条件比较好理解，这个被加载的类，<strong>来自同一个class文件、类的全限定名相同</strong>。</p><p>第二个条件则体现了哲学定义中的"唯一&rdquo;——<strong>在一定约束下</strong>，事物具备独一无二的性质。</p><p>反过来理解第二个条件，我们可以得到如下推论：</p><ul><li>推论1：两个类加载器可以加载同一个类</li><li>推论2：如果发生了推论1，则此时JVM中加载完成的2个类模板被JVM认为是2个不同的类模板。</li></ul><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/3.png alt=image-20201225072929911></p><h1 id=5双亲委派>5.双亲委派</h1><p>明白了"相对唯一性&rdquo;，JVM还是要讲一点**&ldquo;江湖规矩&rdquo;**——在没有某些特殊诉求的情况下，还是要约束一下类加载器们不能太渣，不要反复加载同一个类模板。</p><p>JVM定义了这么一套加载规则：</p><ul><li>类加载器存在上下级关系：Bootstrap是一把手，Ext是二把手，App是小弟。</li><li>类加载器存在先后顺序：一把手(Bootstrap)初始化的时候，将二把手(Ext)、小弟(App)给创建出来。</li><li>类加载器存在加载询问机制：<ul><li>当小弟(App)准备加载1个类模板，会先去求助一下二把手(Ext)加载过这个类吗、能不能帮我加载一下？</li><li>二把手(Ext)收到小弟(App)的求助，也会马上去求助一把手(Bootstrap)。</li><li>一把手(Bootstrap)没有更上级可以求助，于是看看自己能否加载，如果不能，就把权力下放给二把手(Ext)。</li><li>二把手(Ext)一样的处理逻辑，如果不能加载，就把权力下放给小弟(App)。</li><li>绕了这么一大圈，小弟(App)还得自己加载。</li></ul></li></ul><p>这套加载规则，就是双亲委派模型，Parents Delegation Model，也被称为溯源委派加载模型。</p><p>为啥JVM为这种加载规则取了这么奇怪的名字？</p><p>笔者听到一个段子觉得比较贴切——说，类加载的相对唯一性就是&rdquo;<strong>渣男逻辑</strong>"，而双亲委派模型就是&rdquo;<strong>妈宝模型</strong>"：</p><blockquote><p>小明(App)的家庭作业不会做，就叫妈妈(Ext)帮忙做。</p><p>妈妈(Ext)有点忙就叫奶奶(Bootstrap)做。</p><p>奶奶(Bootstrap)说我现在不舒服，还是妈妈(Ext)做吧。</p><p>妈妈(Ext)说我现在忙着做饭，小明(App)你自己来吧。</p><p>小明(App)看绕了一圈，还得自己做作业。</p></blockquote><p>理解清楚这个"双亲"的含义，我们就知道在很多讲JVM原理的文章中，提到的父级加载器、父类加载器，不是表示这三种类加载器是父子关系，而是上下级关系。</p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/4.png alt=image-20201225075247217></p><h1 id=6测试>6.测试</h1><p>我们用几个测试用例，验证一下：</p><h2 id=61验证三种类加载器的上下级关系>6.1.验证三种类加载器的上下级关系</h2><ul><li><strong>代码：</strong></li></ul><blockquote><p>先获得AppClassLoader，然后调用getParent()，获得上一级ClassLoader</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/5.png alt=image-20201225093801335></p><ul><li><strong>运行结果：</strong></li></ul><blockquote><p>说明AppClassLoader的上级是ExtClassLoader，ExtClassLoader的上级是Bootrap(C++实现，所以打印为null)</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/6.png alt=image-20201225094741928></p><h2 id=62验证bootstrapclassloader已经加载的类>6.2.验证BootstrapClassLoader已经加载的类</h2><ul><li><strong>代码</strong></li></ul><blockquote><p>通过getBootstrapClassPath，获得Bootstrap加载器已经加载的类</p><p>再找到Bootstrap加载器已经加载的某一个类对应的类加载器，反过来验证它的类加载器是否是Bootstrap。</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/7.png alt=image-20201225095543911></p><ul><li><strong>运行结果</strong></li></ul><blockquote><p>Bootstrap的职责是加载JVM自身需要的类，目录如下图：</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/8.png alt=image-20201225095633865></p><h2 id=63验证extclassloader已经加载的类>6.3.验证ExtClassLoader已经加载的类</h2><ul><li><strong>代码</strong></li></ul><blockquote><p>获得java.ext.dirs对应的文件路径，再选择该路径下的类，查看类加载器类型</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/9.png alt=image-20201225100147120></p><ul><li><strong>运行结果</strong></li></ul><blockquote><p>ExtClassLoader的职责是加载java.ext.dirs下的类</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/10.png alt=image-20201225100228926></p><h2 id=64尝试破坏javalang包>6.4.尝试破坏java.lang包</h2><ul><li><strong>代码</strong></li></ul><blockquote><p>自建一个java.lang.String类</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/11.png alt=image-20201225101209635></p><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/12.png alt=image-20201225101245483></p><ul><li><strong>运行结果</strong></li></ul><blockquote><p>类加载器加载的时候，认为这是一个被禁止的包路径，防御了我们伪造java.lang包下的基础类</p></blockquote><p><img src=/Java%E6%8B%BE%E9%81%97/%E3%80%90%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E3%80%91-1-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%89%96%E6%9E%90-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E9%80%9F%E8%A7%88/13.png alt=image-20201225101409744></p><h1 id=7总结>7.总结</h1><p>类加载器是类加载机制的具体实现，本文讲解了如下知识点：</p><ul><li>类加载器的分类</li><li>类加载器的相对唯一性</li><li>双亲委派模型</li><li>通过代码，验证了：<ul><li>类加载器之间的上下级关系</li><li>Bootstrap、Ext类加载器的职责</li><li>JVM如何防御我们对核心库的破坏行为</li></ul></li></ul><h1 id=8参考>8.参考</h1><blockquote><p>《深入理解Java虚拟机》-周志明</p></blockquote></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>猴王无敌</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2021-08-05</span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><div class=post-reward><input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>赞赏支持</label><div class=qr-code><label class=qr-code-image for=reward><img class=image src=/weixin.png>
<span>微信打赏</span></label>
<label class=qr-code-image for=reward><img class=image src=/alipay.png>
<span>支付宝打赏</span></label></div></div><footer class=post-footer><div class=post-tags><a href=https://jherculesqz.github.io/tags/java%E6%8B%BE%E9%81%97-jvm/>Java拾遗-JVM</a></div><nav class=post-nav><a class=prev href=/post/java%E6%8B%BE%E9%81%97/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6-0-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E4%BD%93%E7%B3%BB%E7%9A%84%E4%B8%BB%E8%84%89%E7%BB%9C/><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417l277.93508-310.326815c11.338233-12.190647 11.035334-32.285311-.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"/></svg></i><span class="prev-text nav-default">【垃圾回收】-0-垃圾回收体系的主脉络</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/post/java%E6%8B%BE%E9%81%97/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA-0-%E7%94%A8%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86%E5%91%98%E7%9A%84%E8%A7%86%E8%A7%92%E7%90%86%E8%A7%A3%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA/><span class="next-text nav-default">【运行时数据区】-0-用仓库管理员的视角理解运行时数据区</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"/></svg></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=icon-links><a href=mailto:JHercules_qz@qq.com rel="me noopener" class=iconfont title=email><svg class="icon" viewBox="0 0 1451 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408 1361.641813S1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523L83.726336 1024H682.532949 753.579947 1348.948139L1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955C777.248 802.205449 742.347691 811.03081 718.063616 811.603883z"/></svg></a><a href=https://github.com/JHerculesqz rel="me noopener" class=iconfont title=github target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg></a><a href=https://jherculesqz.github.io/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a></span>
<span class=copyright-year>&copy;
2021
<span class=heart><i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg></i></span><span class=author>猴王无敌</span></span>
<span id=busuanzi_container>访客数/访问量：<span id=busuanzi_value_site_uv></span>/<span id=busuanzi_value_site_pv></span></span></div></footer><div class=back-to-top id=back-to-top><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/js/main.638251f4230630f0335d8c6748e53a96f94b72670920b60c09a56fdc8bece214.js integrity="sha256-Y4JR9CMGMPAzXYxnSOU6lvlLcmcJILYMCaVv3Ivs4hQ=" crossorigin=anonymous></script><script type=text/javascript src=/js/load-photoswipe.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></body></html>